<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Starting Degree Video</title>
    
  </head>
  <body>
    <script>
      var script = document.createElement("script");
      script.type = "text/javascript";

      script.addEventListener("load", function (event) {
        const url = new URLSearchParams(window.location.search);
        
        const config = {
          name: "Demo User",
          meetingId: url.get("meetingId"),
          apiKey: "2684186d-ca19-4140-a4f5-45b5885ce0c1",

          containerId: null,

          micEnabled: true,
          webcamEnabled: true,
          participantCanToggleSelfWebcam: true,
          participantCanToggleSelfMic: true,
          participantCanLeave: true,
          maxResolution: "hd",
          chatEnabled: true,
          raiseHandEnabled: true,
          screenShareEnabled: true,
          recording: {
            enabled: true,
            webhookUrl: "https://www.videosdk.live/callback",
            // awsDirPath: `/meeting-recordings/${meetingId}/`, // Pass it only after configuring your S3 Bucket credentials on Video SDK dashboard
            autoStart: false,
            theme: "DARK", // DARK || LIGHT || DEFAULT

            layout: {
              type: "SIDEBAR", // "SPOTLIGHT" | "SIDEBAR" | "GRID"
              priority: "PIN", // "SPEAKER" | "PIN",
              gridSize: 3,
            },
          },
          joinScreen: {
            visible: true,
            title: "Starting Degree Video",
            meetingUrl: window.location.href,
          },
          leftScreen: {
            rejoinButtonEnabled: true,
          },
          livestream: {
            autoStart: true,
            enabled: true,
            theme: "DARK",
          },
          hls: {
            enabled: true,
            autoStart: false,
            theme: "DARK",
          },
          mode: "CONFERENCE",
          theme: "DARK",
          layout: {
            type: "SIDEBAR", // "SPOTLIGHT" | "SIDEBAR" | "GRID"
            priority: "PIN", // "SPEAKER" | "PIN",
            gridSize: 3,
          },
          branding: {
            enabled: true,
            logoURL:
              "https://dc0a61ef-1623-4263-a325-d6eb5b0a0ccf-00-3knrq1aeqvc54.sisko.replit.dev/d-shark-dark.png",
            name: "Degree Video",
            poweredBy: false,
          },
          whiteboardEnabled: true,
          debug: true,
          waitingScreen: {
            imageUrl: "https://dc0a61ef-1623-4263-a325-d6eb5b0a0ccf-00-3knrq1aeqvc54.sisko.replit.dev/d-animation-dark.gif",
            text: "Connecting to the meeting...",
          },
          videoConfig: {
            resolution: "h1080p_w1920p", //h360p_w640p, h540p_w960p, h1080p_w1920p
            optimizationMode: "motion", // text , detail
            multiStream: true,
          },
          audioConfig: {
            quality: "high_quality", //speech_low_quality , high_quality
          },
          screenShareConfig: {
            resolution: "h1080p_15fps", // h360p_30fps , h720p_5fps, h1080p_15fps
            optimizationMode: "text", // motion , detail
          },
          permissions: {
            askToJoin: false,
            toggleParticipantWebcam: true,
            toggleParticipantMic: true,
            toggleParticipantScreenshare: true,
            pin: true,
            removeParticipant: true,
            endMeeting: true,
            toggleRecording: true,
            toggleLivestream: true,
            toggleParticipantMode: true,
            toggleHls: true,
            toggleVirtualBackground: true,
            canCreatePoll: true,
            changeLayout: true,
            drawOnWhiteboard: true,
            toggleWhiteboard: true,
          },
        };

        const meeting = new VideoSDKMeeting();
        meeting.init(config);
      });

      script.src =
        "https://sdk.videosdk.live/rtc-js-prebuilt/0.3.37/rtc-js-prebuilt.js";
      document.getElementsByTagName("head")[0].appendChild(script);
    </script>
  </body>
</html>
